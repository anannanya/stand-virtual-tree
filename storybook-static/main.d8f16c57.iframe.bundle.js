(self.webpackChunkstand_virtual_tree=self.webpackChunkstand_virtual_tree||[]).push([[179],{"./generated-stories-entry.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)},"./src/stories/Introduction.stories.mdx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__page:function(){return __page},default:function(){return Introduction_stories}});__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");var code_brackets=__webpack_require__.p+"static/media/code-brackets.2e1112d71f1a3ba28d2461481dce689b.svg";var colors=__webpack_require__.p+"static/media/colors.a4bd0486703b41f28ac9ef49d8046942.svg";var comments=__webpack_require__.p+"static/media/comments.a38590896b951b65e7ada9af32d6915d.svg";var direction=__webpack_require__.p+"static/media/direction.b770f9af5f20abac0352e73b4676bba2.svg";var flow=__webpack_require__.p+"static/media/flow.edad2ac1b0bb28e0ce513d5b7a65f8fe.svg";var assets_plugin=__webpack_require__.p+"static/media/plugin.d494b22808806ebe8ff4c5b276819e72.svg";var repo=__webpack_require__.p+"static/media/repo.6d4963229d067828d1326ea3f60f5136.svg";var stackalt=__webpack_require__.p+"static/media/stackalt.dba9fbb33e1e5daf57e0cf575f818e65.svg";function Introduction_stories_extends(){return Introduction_stories_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},Introduction_stories_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return(0,esm.kt)("wrapper",Introduction_stories_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Example/Introduction",mdxType:"Meta"}),(0,esm.kt)("style",null,"\n  .subheading {\n    --mediumdark: '#999999';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n\n  \n"),(0,esm.kt)("h1",{id:"welcome-to-storybook"},"Welcome to Storybook"),(0,esm.kt)("p",null,"Storybook helps you build UI components in isolation from your app's business logic, data, and context.\nThat makes it easy to develop hard-to-reach states. Save these UI states as ",(0,esm.kt)("strong",{parentName:"p"},"stories")," to revisit during development, testing, or QA."),(0,esm.kt)("p",null,"Browse example stories now by navigating to them in the sidebar.\nView their code in the ",(0,esm.kt)("inlineCode",{parentName:"p"},"src/stories")," directory to learn how they work.\nWe recommend building UIs with a ",(0,esm.kt)("a",{parentName:"p",href:"https://componentdriven.org",target:"_blank",rel:"nofollow noopener noreferrer"},(0,esm.kt)("strong",{parentName:"a"},"component-driven"))," process starting with atomic components and ending with pages."),(0,esm.kt)("div",{className:"subheading"},"Configure"),(0,esm.kt)("div",{className:"link-list"},(0,esm.kt)("a",{className:"link-item",href:"https://storybook.js.org/docs/react/addons/addon-types",target:"_blank"},(0,esm.kt)("img",{src:assets_plugin,alt:"plugin"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Presets for popular tools"),"Easy setup for TypeScript, SCSS and more.")),(0,esm.kt)("a",{className:"link-item",href:"https://storybook.js.org/docs/react/configure/webpack",target:"_blank"},(0,esm.kt)("img",{src:stackalt,alt:"Build"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Build configuration"),"How to customize webpack and Babel")),(0,esm.kt)("a",{className:"link-item",href:"https://storybook.js.org/docs/react/configure/styling-and-css",target:"_blank"},(0,esm.kt)("img",{src:colors,alt:"colors"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Styling"),"How to load and configure CSS libraries")),(0,esm.kt)("a",{className:"link-item",href:"https://storybook.js.org/docs/react/get-started/setup#configure-storybook-for-your-stack",target:"_blank"},(0,esm.kt)("img",{src:flow,alt:"flow"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Data"),"Providers and mocking for data libraries"))),(0,esm.kt)("div",{className:"subheading"},"Learn"),(0,esm.kt)("div",{className:"link-list"},(0,esm.kt)("a",{className:"link-item",href:"https://storybook.js.org/docs",target:"_blank"},(0,esm.kt)("img",{src:repo,alt:"repo"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Storybook documentation"),"Configure, customize, and extend")),(0,esm.kt)("a",{className:"link-item",href:"https://storybook.js.org/tutorials/",target:"_blank"},(0,esm.kt)("img",{src:direction,alt:"direction"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"In-depth guides"),"Best practices from leading teams")),(0,esm.kt)("a",{className:"link-item",href:"https://github.com/storybookjs/storybook",target:"_blank"},(0,esm.kt)("img",{src:code_brackets,alt:"code"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"GitHub project"),"View the source and add issues")),(0,esm.kt)("a",{className:"link-item",href:"https://discord.gg/storybook",target:"_blank"},(0,esm.kt)("img",{src:comments,alt:"comments"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Discord chat"),"Chat with maintainers and the community"))),(0,esm.kt)("div",{className:"tip-wrapper"},(0,esm.kt)("span",{className:"tip"},"Tip"),"Edit the Markdown in"," ",(0,esm.kt)("code",null,"src/stories/Introduction.stories.mdx")))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Example/Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))};var Introduction_stories=componentMeta},"./src/stories/List.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:function(){return Basic},Buffer:function(){return Buffer},DifferentItemHeight:function(){return DifferentItemHeight},DynamicItemHeight:function(){return DynamicItemHeight},default:function(){return List_stories},scrollToNode:function(){return scrollToNode}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),input=__webpack_require__("./node_modules/antd/es/input/index.js"),es_button=__webpack_require__("./node_modules/antd/es/button/index.js"),message=__webpack_require__("./node_modules/antd/es/message/index.js"),List=(__webpack_require__("./node_modules/antd/dist/antd.css"),__webpack_require__("./src/List/index.tsx")),txtgen=__webpack_require__("./src/stories/txtgen.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),staticHeightitemStyle={boxSizing:"border-box",height:50,borderBottom:"1px solid rgb(240, 240, 240)"},dynamicHeightItemStyle={boxSizing:"border-box",borderBottom:"1px solid rgb(240, 240, 240)",padding:"12px 22px"},differentHeightItemStyle={boxSizing:"border-box",borderBottom:"1px solid rgb(240, 240, 240)"},List_stories={title:"Example/List",component:List.Z},Basic=function Template(args){var _useState=(0,react.useState)("10000"),_useState2=(0,slicedToArray.Z)(_useState,2),dataNum=_useState2[0],setDataNum=_useState2[1],_useState3=(0,react.useState)("10000"),_useState4=(0,slicedToArray.Z)(_useState3,2),inputValue=_useState4[0],setInputValue=_useState4[1],listController=(0,react.useRef)();var data=(0,react.useMemo)((function(){return function createData(nums){return new Array(nums||1e4).fill("").map((function(item,index){return{id:"".concat(index),title:"".concat(index," ").concat((0,txtgen.Z)())}}))}(Number(dataNum))}),[dataNum]),getListItemHeight=(0,react.useCallback)((function(item){return 50}),[]),getListItemStyle=(0,react.useCallback)((function(){return staticHeightitemStyle}),[]),randerItem=(0,react.useCallback)((function(listItem){return(0,jsx_runtime.jsx)("div",{className:"demo-list-item",style:getListItemStyle(),children:"".concat(listItem.title)})}),[getListItemStyle]),onInputValueChange=(0,react.useCallback)((function(e){setInputValue(e.target.value)}),[]),onConfirm=(0,react.useCallback)((function(){setDataNum(inputValue)}),[inputValue]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h2",{className:"story-h2",children:"基础用法"}),(0,jsx_runtime.jsx)(input.Z,{placeholder:"请输入数据条数, 回车或点击按钮确认",value:inputValue,onChange:onInputValueChange,onPressEnter:onConfirm,style:{width:300,marginRight:8}}),(0,jsx_runtime.jsx)(es_button.Z,{onClick:onConfirm,children:"确认"}),(0,jsx_runtime.jsx)("div",{className:"list-container",children:(0,jsx_runtime.jsx)(List.Z,{data:data,renderItem:randerItem,containerHeight:500,itemHeight:getListItemHeight,getController:function getController(props){listController.current=props}})})]})}.bind({});Basic.parameters={docs:{source:{code:"\nconst [dataNum, setDataNum] = useState('10000')\nconst [inputValue, setInputValue] = useState('10000');\nconst listController = useRef<ListController<IDataItem>>()\nconst inputStyle = { width: 300, marginRight: 8 }\n\n\nfunction createData(nums: number) {\n    const actualDataNum = nums || 10000;\n    const data = new Array(actualDataNum).fill(\"\").map((item, index) => {\n        return {\n            id: ".concat("${index}",",\n            title: ","${index}:  ${sentence()}","\n        }\n    })\n    return data\n}\n\nconst data = useMemo(() => {\n    return createData(Number(dataNum));\n}, [dataNum]);\n\nconst getListItemHeight = useCallback(item => {\n    return 50;\n}, [])\n\nconst getListItemStyle = useCallback(() => {\n    return { height: getListItemHeight() };\n}, [])\n\nconst randerItem = useCallback((listItem) => {\n    return (\n        <div style={getListItemStyle()}>\n            {listItem.title}\n        </div>\n    )\n}, [getListItemStyle])\n\nconst onInputValueChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value)\n}, [])\n\nconst onConfirm = useCallback(() => {\n    setDataNum(inputValue)\n}, [inputValue])\n\nconst getController = (props: ListController<IDataItem>) => {\n    listController.current = props\n}\n\nreturn (\n    <List\n        data={data}\n        renderItem={randerItem}\n        containerHeight={500}\n        itemHeight={getListItemHeight}\n        getController={getController}\n    />\n)\n            "),language:"typescript"}}};var DifferentItemHeight=function TemplateForDifferentItemHeight(args){var _useState5=(0,react.useState)("10000"),_useState6=(0,slicedToArray.Z)(_useState5,2),dataNum=_useState6[0],setDataNum=_useState6[1],_useState7=(0,react.useState)("10000"),_useState8=(0,slicedToArray.Z)(_useState7,2),inputValue=_useState8[0],setInputValue=_useState8[1],listController=(0,react.useRef)();var data=(0,react.useMemo)((function(){return function createData(nums){return new Array(nums||1e4).fill("").map((function(item,index){return{id:"".concat(index),title:"".concat(index," ").concat((0,txtgen.Z)())}}))}(Number(dataNum))}),[dataNum]),getListItemHeight=(0,react.useCallback)((function(item){return Number(item.id)%2==0?50:100}),[]),getListItemStyle=(0,react.useCallback)((function(item){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},differentHeightItemStyle),{},{height:getListItemHeight(item)})}),[]),randerItem=(0,react.useCallback)((function(listItem){return(0,jsx_runtime.jsx)("div",{className:"demo-list-item",style:getListItemStyle(listItem),children:"".concat(listItem.title)})}),[getListItemStyle]),onInputValueChange=(0,react.useCallback)((function(e){setInputValue(e.target.value)}),[]),onConfirm=(0,react.useCallback)((function(){setDataNum(inputValue)}),[inputValue]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h2",{className:"story-h2",children:"数据项高度不一致"}),(0,jsx_runtime.jsx)(input.Z,{placeholder:"请输入数据条数, 回车或点击按钮确认",value:inputValue,onChange:onInputValueChange,onPressEnter:onConfirm,style:{width:300,marginRight:8}}),(0,jsx_runtime.jsx)(es_button.Z,{onClick:onConfirm,children:"确认"}),(0,jsx_runtime.jsx)("div",{className:"list-container",children:(0,jsx_runtime.jsx)(List.Z,{data:data,renderItem:randerItem,containerHeight:500,itemHeight:getListItemHeight,getController:function getController(props){listController.current=props}})})]})}.bind({});DifferentItemHeight.parameters={docs:{source:{code:"\nconst [dataNum, setDataNum] = useState('10000')\nconst [inputValue, setInputValue] = useState('10000');\nconst listController = useRef<ListController<IDataItem>>()\nconst inputStyle = { width: 300, marginRight: 8 }\n\n\nfunction createData(nums: number) {\n    const actualDataNum = nums || 10000;\n    const data = new Array(actualDataNum).fill(\"\").map((item, index) => {\n        return {\n            id: ".concat("${index}",",\n            title: ","${index}:  ${sentence()}","\n        }\n    })\n    return data\n}\n\nconst data = useMemo(() => {\n    return createData(Number(dataNum));\n}, [dataNum]);\n\nconst getListItemHeight = useCallback(item => {\n    return Number(item.id) % 2 === 0 ? 50 : 100\n}, [])\n\nconst getListItemStyle = useCallback((item) => {\n    return {\n        height: getListItemHeight(item),\n    }\n}, [])\n\nconst randerItem = useCallback((listItem) => {\n    return (\n        <div style={getListItemStyle(listItem)}>\n            {listItem.title}\n        </div>\n    )\n}, [getListItemStyle])\n\nconst onInputValueChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value)\n}, [])\n\nconst onConfirm = useCallback(() => {\n    setDataNum(inputValue)\n}, [inputValue])\n\nconst getController = (props: ListController<IDataItem>) => {\n    listController.current = props\n}\n\nreturn (\n    <List\n        data={data}\n        renderItem={randerItem}\n        containerHeight={500}\n        itemHeight={getListItemHeight}\n        getController={getController}\n    />\n)\n            ")}},design:{name:"Different ItemHeight"}};var Buffer=function BufferTemplate(args){var listController=(0,react.useRef)();var data=(0,react.useMemo)((function(){return function createData(nums){return new Array(nums||1e4).fill("").map((function(item,index){return{id:"".concat(index),title:"".concat(index," ").concat((0,txtgen.Z)())}}))}(1e3)}),[]),getListItemHeight=(0,react.useCallback)((function(item){return 50}),[]),getListItemStyle=(0,react.useCallback)((function(){return staticHeightitemStyle}),[]),randerItem=(0,react.useCallback)((function(listItem){return(0,jsx_runtime.jsx)("div",{className:"demo-list-item",style:getListItemStyle(),children:"".concat(listItem.title)})}),[getListItemStyle]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h2",{children:"缓冲区"}),(0,jsx_runtime.jsx)("div",{className:"list-container",children:(0,jsx_runtime.jsx)(List.Z,{data:data,renderItem:randerItem,containerHeight:500,itemHeight:getListItemHeight,getController:function getController(props){listController.current=props},buffer:10})})]})}.bind({});Buffer.parameters={docs:{source:{code:'\nconst listController = useRef<ListController<IDataItem>>()\n\nfunction createData(nums: number) {\n    const actualDataNum = nums || 10000;\n    const data = new Array(actualDataNum).fill("").map((item, index) => {\n        return {\n            id: '.concat("${index}",",\n            title: ","${index}:  ${sentence()}",'\n        }\n    })\n    return data\n}\n\nconst data = useMemo(() => {\n    return createData(1000);\n}, []);\n\nconst getListItemHeight = useCallback(item => {\n    return 50;\n}, [])\n\nconst getListItemStyle = useCallback(() => {\n    return staticHeightitemStyle\n}, [])\n\nconst randerItem = useCallback((listItem) => {\n    return (\n        <div style={getListItemStyle()}>\n            {listItem.title}\n        </div>\n    )\n}, [getListItemStyle])\n\nconst getController = (props: ListController<IDataItem>) => {\n    listController.current = props\n}\n\nreturn (\n    <div className="list-container">\n        <List\n            data={data}\n            renderItem={randerItem}\n            containerHeight={500}\n            itemHeight={getListItemHeight}\n            getController={getController}\n            buffer={10}\n        />\n    </div>\n)\n            ')}}};var DynamicItemHeightTemplate=function DynamicItemHeightTemplate(args){var listController=(0,react.useRef)();var data=(0,react.useMemo)((function(){return function createData(nums){return new Array(nums||1e4).fill("").map((function(item,index){return{id:"".concat(index),title:"".concat(index," ").concat((0,txtgen.A)())}}))}(1e4)}),[]),getListItemHeight=(0,react.useCallback)((function(item){return 50}),[]),getListItemStyle=(0,react.useCallback)((function(){return dynamicHeightItemStyle}),[]),randerItem=(0,react.useCallback)((function(listItem){return(0,jsx_runtime.jsx)("div",{className:"demo-list-item",style:getListItemStyle(),children:"".concat(listItem.title)})}),[getListItemStyle]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h2",{children:"数据项动态高度"}),(0,jsx_runtime.jsx)("div",{className:"list-container",children:(0,jsx_runtime.jsx)(List.Z,{data:data,renderItem:randerItem,containerHeight:500,itemHeight:getListItemHeight,shouldCollectHeight:!0,getController:function getController(props){listController.current=props},buffer:10})})]})};DynamicItemHeightTemplate.parameters={docs:{source:{code:'\nconst listController = useRef<ListController<IDataItem>>()\n\nfunction createData(nums: number) {\n    const actualDataNum = nums || 10000;\n    const data = new Array(actualDataNum).fill("").map((item, index) => {\n        return {\n            id: '.concat("${index}",",\n            title: ","${index}:  ${sentence()}",'\n        }\n    })\n    return data\n}\n\nconst data = useMemo(() => {\n    return createData(1000);\n}, []);\n\nconst getListItemHeight = useCallback(item => {\n    return 50;\n}, [])\n\nconst getListItemStyle = useCallback(() => {\n    return staticHeightitemStyle\n}, [])\n\nconst randerItem = useCallback((listItem) => {\n    return (\n        <div style={getListItemStyle()}>\n            {listItem.title}\n        </div>\n    )\n}, [getListItemStyle])\n\nconst getController = (props: ListController<IDataItem>) => {\n    listController.current = props\n}\n\nreturn (\n    <div className="list-container">\n        <List\n            data={data}\n            renderItem={randerItem}\n            containerHeight={500}\n            itemHeight={getListItemHeight}\n            getController={getController}\n            buffer={10}\n        />\n    </div>\n)\n            ')}}};var DynamicItemHeight=DynamicItemHeightTemplate.bind({}),ScrollToNodeTemplate=function ScrollToNodeTemplate(args){var listController=(0,react.useRef)();var data=(0,react.useMemo)((function(){return function createData(nums){return new Array(nums||1e4).fill("").map((function(item,index){return{id:"".concat(index),title:"".concat(index," ").concat((0,txtgen.Z)())}}))}(1e3)}),[]),getListItemHeight=(0,react.useCallback)((function(item){return 50}),[]),getListItemStyle=(0,react.useCallback)((function(){return staticHeightitemStyle}),[]),randerItem=(0,react.useCallback)((function(listItem){return(0,jsx_runtime.jsx)("div",{className:"demo-list-item",style:getListItemStyle(),children:"".concat(listItem.title)})}),[getListItemStyle]),scrollToNode=(0,react.useCallback)((function(e){var key=e.target.value;if(listController.current){var targetNode=data.find((function(item){return item.id===key}));targetNode?listController.current.scrollTo(targetNode):message.ZP.error("NodeNotFound")}}),[]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h2",{children:"滚动到指定节点"}),(0,jsx_runtime.jsx)(input.Z,{placeholder:"请输入数据条数, 回车确认",onPressEnter:scrollToNode,style:{width:300,marginRight:8}}),(0,jsx_runtime.jsx)("div",{className:"list-container",children:(0,jsx_runtime.jsx)(List.Z,{data:data,renderItem:randerItem,containerHeight:500,itemHeight:getListItemHeight,getController:function getController(props){listController.current=props},buffer:10})})]})};ScrollToNodeTemplate.parameters={docs:{source:{code:'\nconst listController = useRef<ListController<IDataItem>>()\n\nfunction createData(nums: number) {\n    const actualDataNum = nums || 10000;\n    const data = new Array(actualDataNum).fill("").map((item, index) => {\n        return {\n            id: '.concat("${index}",",\n            title: ","${index}:  ${sentence()}","\n        }\n    })\n    return data\n}\n\nconst data = useMemo(() => {\n    return createData(1000);\n}, []);\n\nconst getListItemHeight = useCallback(item => {\n    return 50;\n}, [])\n\nconst getListItemStyle = useCallback(() => {\n    return staticHeightitemStyle\n}, [])\n\nconst randerItem = useCallback((listItem) => {\n    return (\n        <div style={getListItemStyle()}>\n            {listItem.title}\n        </div>\n    )\n}, [getListItemStyle])\n\nconst scrollToNode = useCallback((e) => {\n    const key = e.target.value;\n    if (listController.current) {\n        const targetNode = data.find(item => item.id === key);\n        if (targetNode) {\n            listController.current.scrollTo(targetNode);\n        } else {\n            message.error('This is an error message');\n        }\n    }\n}, []);\n\nconst getController = (props: ListController<IDataItem>) => {\n    listController.current = props\n}\n\nreturn (\n    <>\n        <Input placeholder='请输入数据条数, 回车或点击按钮确认' onPressEnter={scrollToNode} style={inputStyle} />\n        <Button onClick={scrollToNode}>确认</Button>\n        <div className=\"list-container\">\n            <List\n                data={data}\n                renderItem={randerItem}\n                containerHeight={500}\n                itemHeight={getListItemHeight}\n                getController={getController}\n                buffer={10}\n            />\n        </div>\n    </>\n) \n            ")}}};var scrollToNode=ScrollToNodeTemplate.bind({});Basic.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n    const [dataNum, setDataNum] = useState(\'10000\')\r\n    const [inputValue, setInputValue] = useState(\'10000\');\r\n    const listController = useRef<ListController<IDataItem>>()\r\n    const inputStyle = { width: 300, marginRight: 8 }\r\n\r\n\r\n    function createData(nums: number) {\r\n        const actualDataNum = nums || 10000;\r\n        const data = new Array(actualDataNum).fill("").map((item, index) => {\r\n            return {\r\n                id: `${index}`,\r\n                title: `${index} ${sentence()}`\r\n            }\r\n        })\r\n        return data\r\n    }\r\n\r\n    const data = useMemo(() => {\r\n        return createData(Number(dataNum));\r\n    }, [dataNum]);\r\n\r\n    const getListItemHeight = useCallback(item => {\r\n        return 50;\r\n    }, [])\r\n\r\n    const getListItemStyle = useCallback(() => {\r\n        return staticHeightitemStyle\r\n    }, [])\r\n\r\n    const randerItem = useCallback((listItem) => {\r\n        return (\r\n            <div className="demo-list-item" style={getListItemStyle()}>\r\n                {`${listItem.title}`}\r\n            </div>\r\n        )\r\n    }, [getListItemStyle])\r\n\r\n    const onInputValueChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setInputValue(e.target.value)\r\n    }, [])\r\n\r\n    const onConfirm = useCallback(() => {\r\n        setDataNum(inputValue)\r\n    }, [inputValue])\r\n\r\n    const getController = (props: ListController<IDataItem>) => {\r\n        listController.current = props\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2 className="story-h2">基础用法</h2>\r\n            <Input placeholder=\'请输入数据条数, 回车或点击按钮确认\' value={inputValue} onChange={onInputValueChange} onPressEnter={onConfirm} style={inputStyle} />\r\n            <Button onClick={onConfirm}>确认</Button>\r\n            <div className="list-container">\r\n                <List\r\n                    data={data}\r\n                    renderItem={randerItem}\r\n                    containerHeight={500}\r\n                    itemHeight={getListItemHeight}\r\n                    getController={getController}\r\n                />\r\n            </div>\r\n        </>\r\n    )\r\n}'}},Basic.parameters),DifferentItemHeight.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n    const [dataNum, setDataNum] = useState(\'10000\')\r\n    const [inputValue, setInputValue] = useState(\'10000\');\r\n    const listController = useRef<ListController<IDataItem>>()\r\n    const inputStyle = { width: 300, marginRight: 8 }\r\n\r\n\r\n    function createData(nums: number) {\r\n        const actualDataNum = nums || 10000;\r\n        const data = new Array(actualDataNum).fill("").map((item, index) => {\r\n            return {\r\n                id: `${index}`,\r\n                title: `${index} ${sentence()}`\r\n            }\r\n        })\r\n        return data\r\n    }\r\n\r\n    const data = useMemo(() => {\r\n        return createData(Number(dataNum));\r\n    }, [dataNum]);\r\n\r\n    const getListItemHeight = useCallback(item => {\r\n        return Number(item.id) % 2 === 0 ? 50 : 100\r\n    }, [])\r\n\r\n    const getListItemStyle = useCallback((item) => {\r\n        return {\r\n            ...differentHeightItemStyle,\r\n            height: getListItemHeight(item),\r\n        }\r\n    }, [])\r\n\r\n    const randerItem = useCallback((listItem) => {\r\n        return (\r\n            <div className="demo-list-item" style={getListItemStyle(listItem)}>\r\n                {`${listItem.title}`}\r\n            </div>\r\n        )\r\n    }, [getListItemStyle])\r\n\r\n    const onInputValueChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setInputValue(e.target.value)\r\n    }, [])\r\n\r\n    const onConfirm = useCallback(() => {\r\n        setDataNum(inputValue)\r\n    }, [inputValue])\r\n\r\n    const getController = (props: ListController<IDataItem>) => {\r\n        listController.current = props\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2 className="story-h2">数据项高度不一致</h2>\r\n            <Input placeholder=\'请输入数据条数, 回车或点击按钮确认\' value={inputValue} onChange={onInputValueChange} onPressEnter={onConfirm} style={inputStyle} />\r\n            <Button onClick={onConfirm}>确认</Button>\r\n            <div className="list-container">\r\n                <List\r\n                    data={data}\r\n                    renderItem={randerItem}\r\n                    containerHeight={500}\r\n                    itemHeight={getListItemHeight}\r\n                    getController={getController}\r\n                />\r\n            </div>\r\n        </>\r\n    )\r\n}'}},DifferentItemHeight.parameters),Buffer.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n    const listController = useRef<ListController<IDataItem>>()\r\n\r\n    function createData(nums: number) {\r\n        const actualDataNum = nums || 10000;\r\n        const data = new Array(actualDataNum).fill("").map((item, index) => {\r\n            return {\r\n                id: `${index}`,\r\n                title: `${index} ${sentence()}`\r\n            }\r\n        })\r\n        return data\r\n    }\r\n\r\n    const data = useMemo(() => {\r\n        return createData(1000);\r\n    }, []);\r\n\r\n    const getListItemHeight = useCallback(item => {\r\n        return 50;\r\n    }, [])\r\n\r\n    const getListItemStyle = useCallback(() => {\r\n        return staticHeightitemStyle\r\n    }, [])\r\n\r\n    const randerItem = useCallback((listItem) => {\r\n        return (\r\n            <div className="demo-list-item" style={getListItemStyle()}>\r\n                {`${listItem.title}`}\r\n            </div>\r\n        )\r\n    }, [getListItemStyle])\r\n\r\n    const getController = (props: ListController<IDataItem>) => {\r\n        listController.current = props\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2>缓冲区</h2>\r\n            <div className="list-container">\r\n                <List\r\n                    data={data}\r\n                    renderItem={randerItem}\r\n                    containerHeight={500}\r\n                    itemHeight={getListItemHeight}\r\n                    getController={getController}\r\n                    buffer={10}\r\n                />\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}'}},Buffer.parameters),DynamicItemHeight.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n    const listController = useRef<ListController<IDataItem>>()\r\n\r\n    function createData(nums: number) {\r\n        const actualDataNum = nums || 10000;\r\n        const data = new Array(actualDataNum).fill("").map((item, index) => {\r\n            return {\r\n                id: `${index}`,\r\n                title: `${index} ${paragraph()}`\r\n            }\r\n        })\r\n        return data\r\n    }\r\n\r\n    const data = useMemo(() => {\r\n        return createData(10000);\r\n    }, []);\r\n\r\n    const getListItemHeight = useCallback(item => {\r\n        return 50;\r\n    }, [])\r\n\r\n    const getListItemStyle = useCallback(() => {\r\n        return dynamicHeightItemStyle\r\n    }, [])\r\n\r\n    const randerItem = useCallback((listItem) => {\r\n        return (\r\n            <div className="demo-list-item" style={getListItemStyle()}>\r\n                {`${listItem.title}`}\r\n            </div>\r\n        )\r\n    }, [getListItemStyle])\r\n\r\n    const getController = (props: ListController<IDataItem>) => {\r\n        listController.current = props\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2>数据项动态高度</h2>\r\n            <div className="list-container">\r\n                <List\r\n                    data={data}\r\n                    renderItem={randerItem}\r\n                    containerHeight={500}\r\n                    itemHeight={getListItemHeight}\r\n                    shouldCollectHeight={true}\r\n                    getController={getController}\r\n                    buffer={10}\r\n                />\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}'}},DynamicItemHeight.parameters),scrollToNode.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n    const listController = useRef<ListController<IDataItem>>()\r\n    const inputStyle = { width: 300, marginRight: 8 }\r\n\r\n    function createData(nums: number) {\r\n        const actualDataNum = nums || 10000;\r\n        const data = new Array(actualDataNum).fill("").map((item, index) => {\r\n            return {\r\n                id: `${index}`,\r\n                title: `${index} ${sentence()}`\r\n            }\r\n        })\r\n        return data\r\n    }\r\n\r\n    const data = useMemo(() => {\r\n        return createData(1000);\r\n    }, []);\r\n\r\n    const getListItemHeight = useCallback(item => {\r\n        return 50;\r\n    }, [])\r\n\r\n    const getListItemStyle = useCallback(() => {\r\n        return staticHeightitemStyle\r\n    }, [])\r\n\r\n    const randerItem = useCallback((listItem) => {\r\n        return (\r\n            <div className="demo-list-item" style={getListItemStyle()}>\r\n                {`${listItem.title}`}\r\n            </div>\r\n        )\r\n    }, [getListItemStyle])\r\n\r\n    const getController = (props: ListController<IDataItem>) => {\r\n        listController.current = props\r\n    }\r\n\r\n    const scrollToNode = useCallback((e) => {\r\n        const key = e.target.value;\r\n        if (listController.current) {\r\n            const targetNode = data.find(item => item.id === key);\r\n            if (targetNode) {\r\n                listController.current.scrollTo(targetNode);\r\n            } else {\r\n                message.error(\'NodeNotFound\');\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <h2>滚动到指定节点</h2>\r\n            <Input placeholder=\'请输入数据条数, 回车确认\' onPressEnter={scrollToNode} style={inputStyle} />\r\n            <div className="list-container">\r\n                <List\r\n                    data={data}\r\n                    renderItem={randerItem}\r\n                    containerHeight={500}\r\n                    itemHeight={getListItemHeight}\r\n                    getController={getController}\r\n                    buffer={10}\r\n                />\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}'}},scrollToNode.parameters)},"./src/stories/Tree.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:function(){return Basic},CustomArrowIcon:function(){return CustomArrowIcon},CustomIcon:function(){return CustomIcon},default:function(){return Tree_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),FolderOutlined=__webpack_require__("./node_modules/@ant-design/icons/es/icons/FolderOutlined.js"),RightCircleOutlined=__webpack_require__("./node_modules/@ant-design/icons/es/icons/RightCircleOutlined.js"),objectWithoutProperties=(__webpack_require__("./node_modules/antd/dist/antd.css"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js")),usePersistFn=__webpack_require__("./node_modules/ahooks/es/usePersistFn/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),CaretRightOutlined=__webpack_require__("./node_modules/@ant-design/icons/es/icons/CaretRightOutlined.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),cls="stand-tree-node";function TreeNode(props){var isExpanded=props.isExpanded,node=props.node,nodeHeight=props.nodeHeight,onNodeToggleExpand=props.onNodeToggleExpand,renderArrow=props.renderArrow,renderIcon=props.renderIcon,onClickExpandArrow=(0,usePersistFn.Z)((function(e){onNodeToggleExpand(node,!isExpanded)})),style=(0,react.useMemo)((function(){return{height:"number"==typeof nodeHeight?nodeHeight:nodeHeight(node)}}),[nodeHeight,node]);return(0,jsx_runtime.jsxs)("div",{className:cls,style:style,children:[function renderExpandArrow(){var className=isExpanded?"open":"close";return renderArrow?(0,jsx_runtime.jsx)("div",{onClick:onClickExpandArrow,className:classnames_default()("".concat(cls,"-expand-arrow"),className),children:renderArrow()}):(0,jsx_runtime.jsx)(CaretRightOutlined.Z,{onClick:onClickExpandArrow,className:classnames_default()("".concat(cls,"-expand-arrow"),className)})}(),function renderNodeContent(){return props.renderNodeContent?props.renderNodeContent(node):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[renderIcon&&renderIcon(),(0,jsx_runtime.jsx)("div",{className:"".concat(cls,"-content"),children:node.title}),";"]})}()]})}try{TreeNode.displayName="TreeNode",TreeNode.__docgenInfo={description:"",displayName:"TreeNode",props:{isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}},node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"IBaseTreeNodeData<ITreeNodeData>"}},nodeHeight:{defaultValue:null,description:"",name:"nodeHeight",required:!0,type:{name:"number | ((node: ITreeNodeData) => number)"}},onNodeToggleExpand:{defaultValue:null,description:"",name:"onNodeToggleExpand",required:!0,type:{name:"(node: ITreeNodeData, expand: boolean) => void"}},renderNodeContent:{defaultValue:null,description:"",name:"renderNodeContent",required:!1,type:{name:"((node: ITreeNodeData) => ReactElement<any, string | JSXElementConstructor<any>>)"}},renderIcon:{defaultValue:null,description:"",name:"renderIcon",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}},renderArrow:{defaultValue:null,description:"",name:"renderArrow",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tree/TreeNode.tsx#TreeNode"]={docgenInfo:TreeNode.__docgenInfo,name:"TreeNode",path:"src/Tree/TreeNode.tsx#TreeNode"})}catch(__react_docgen_typescript_loader_error){}var List=__webpack_require__("./src/List/index.tsx"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");var _excluded=["data","renderNodeContent","expandedKeys","getNodeStyle","getNodeIndent","onNodeToggleExpand"];function Tree_Tree(props){var data=props.data,renderNodeContent=props.renderNodeContent,expandedKeys=props.expandedKeys,getNodeStyle=props.getNodeStyle,getNodeIndent=props.getNodeIndent,onNodeToggleExpand=props.onNodeToggleExpand,listProps=(0,objectWithoutProperties.Z)(props,_excluded),_useFlatten=function useFlatten(opts){for(var data=opts.data,expandedKeys=opts.expandedKeys,taskQueue=(0,toConsumableArray.Z)(data).map((function(item){return{data:item,level:0}})),flattenedData=[],levelMap={};taskQueue.length>0;){var task=taskQueue.shift();task&&function(){var data=task.data,level=task.level;flattenedData.push(data),levelMap[data.id]=level;var isNodeExpanded=expandedKeys.includes(data.id),childs=data.children;childs&&isNodeExpanded&&taskQueue.unshift.apply(taskQueue,(0,toConsumableArray.Z)(childs.map((function(item){return{data:item,level:level+1}}))))}()}return{flattenedData:flattenedData,levelMap:levelMap}}({data:data,expandedKeys:expandedKeys}),flattenedData=_useFlatten.flattenedData,levelMap=_useFlatten.levelMap,getItemStyle=(0,usePersistFn.Z)((function(node){var styleFromProps=getNodeStyle?getNodeStyle(node):{},indent=getNodeIndent(node,levelMap[node.id]);return(0,objectSpread2.Z)((0,objectSpread2.Z)({},styleFromProps),{},{paddingLeft:indent})})),renderItem=(0,react.useCallback)((function(node){var itemHeight=props.itemHeight,renderIcon=props.renderIcon,renderArrow=props.renderArrow;return(0,jsx_runtime.jsx)(TreeNode,{nodeHeight:itemHeight,isExpanded:expandedKeys.includes(node.id),node:node,onNodeToggleExpand:onNodeToggleExpand,renderNodeContent:renderNodeContent,renderIcon:renderIcon,renderArrow:renderArrow})}),[expandedKeys,onNodeToggleExpand,renderNodeContent,props.itemHeight]);return(0,jsx_runtime.jsx)(List.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},listProps),{},{data:flattenedData,getItemStyle:getItemStyle,renderItem:renderItem}))}try{Tree_Tree.displayName="Tree",Tree_Tree.__docgenInfo={description:"",displayName:"Tree",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ITreeNodeData[]"}},expandedKeys:{defaultValue:null,description:"",name:"expandedKeys",required:!0,type:{name:"string[]"}},renderNodeContent:{defaultValue:null,description:"",name:"renderNodeContent",required:!1,type:{name:"((node: ITreeNodeData) => ReactElement<any, string | JSXElementConstructor<any>>)"}},onNodeToggleExpand:{defaultValue:null,description:"",name:"onNodeToggleExpand",required:!0,type:{name:"(node: string | string[] | ITreeNodeData, expand: boolean) => void"}},renderIcon:{defaultValue:null,description:"",name:"renderIcon",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}},renderArrow:{defaultValue:null,description:"",name:"renderArrow",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}},getNodeStyle:{defaultValue:null,description:"",name:"getNodeStyle",required:!1,type:{name:"((node: ITreeNodeData) => CSSProperties)"}},getNodeIndent:{defaultValue:null,description:"",name:"getNodeIndent",required:!0,type:{name:"(node: ITreeNodeData, level: number) => number"}},getController:{defaultValue:null,description:"",name:"getController",required:!1,type:{name:"((controller: ListController<ITreeNodeData>) => void)"}},containerHeight:{defaultValue:null,description:"",name:"containerHeight",required:!0,type:{name:"number"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!0,type:{name:"number | ((item: ITreeNodeData) => number)"}},shouldCollectHeight:{defaultValue:null,description:"",name:"shouldCollectHeight",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},buffer:{defaultValue:null,description:"",name:"buffer",required:!1,type:{name:"number"}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: ITreeNodeData) => void)"}},getItemStyle:{defaultValue:null,description:"",name:"getItemStyle",required:!1,type:{name:"((item: ITreeNodeData) => CSSProperties)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tree/Tree.tsx#Tree"]={docgenInfo:Tree_Tree.__docgenInfo,name:"Tree",path:"src/Tree/Tree.tsx#Tree"})}catch(__react_docgen_typescript_loader_error){}var src_Tree_0=Tree_Tree;try{Tree.displayName="Tree",Tree.__docgenInfo={description:"",displayName:"Tree",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ITreeNodeData[]"}},expandedKeys:{defaultValue:null,description:"",name:"expandedKeys",required:!0,type:{name:"string[]"}},renderNodeContent:{defaultValue:null,description:"",name:"renderNodeContent",required:!1,type:{name:"((node: ITreeNodeData) => ReactElement<any, string | JSXElementConstructor<any>>)"}},onNodeToggleExpand:{defaultValue:null,description:"",name:"onNodeToggleExpand",required:!0,type:{name:"(node: string | string[] | ITreeNodeData, expand: boolean) => void"}},renderIcon:{defaultValue:null,description:"",name:"renderIcon",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}},renderArrow:{defaultValue:null,description:"",name:"renderArrow",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}},getNodeStyle:{defaultValue:null,description:"",name:"getNodeStyle",required:!1,type:{name:"((node: ITreeNodeData) => CSSProperties)"}},getNodeIndent:{defaultValue:null,description:"",name:"getNodeIndent",required:!0,type:{name:"(node: ITreeNodeData, level: number) => number"}},getController:{defaultValue:null,description:"",name:"getController",required:!1,type:{name:"((controller: ListController<ITreeNodeData>) => void)"}},containerHeight:{defaultValue:null,description:"",name:"containerHeight",required:!0,type:{name:"number"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!0,type:{name:"number | ((item: ITreeNodeData) => number)"}},shouldCollectHeight:{defaultValue:null,description:"",name:"shouldCollectHeight",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},buffer:{defaultValue:null,description:"",name:"buffer",required:!1,type:{name:"number"}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: ITreeNodeData) => void)"}},getItemStyle:{defaultValue:null,description:"",name:"getItemStyle",required:!1,type:{name:"((item: ITreeNodeData) => CSSProperties)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tree/index.tsx#Tree"]={docgenInfo:Tree.__docgenInfo,name:"Tree",path:"src/Tree/index.tsx#Tree"})}catch(__react_docgen_typescript_loader_error){}var txtgen=__webpack_require__("./src/stories/txtgen.js"),generateTreeData=function generateTreeData(props){var depth=props.depth,sisterNum=props.sisterNum,realDepth=Array.isArray(depth)?Math.ceil(Math.random()*(depth[1]-depth[0])+depth[0]):depth,realSisNum=Array.isArray(sisterNum)?Math.ceil(Math.random()*(sisterNum[1]-sisterNum[0])+sisterNum[0]):sisterNum,rootNode={id:"0",title:"0 ".concat((0,txtgen.Z)()),children:[]};console.time("www");return function helpFun(treeData,depth,sisterNum,fatherId){if(depth>0){for(var i=0;i<sisterNum;i++)treeData.children[i]={id:"".concat(fatherId,"-").concat(i),title:"".concat(fatherId,"-").concat(i," ").concat((0,txtgen.Z)()),children:[]};depth-=1,treeData.children.forEach((function(item){helpFun(item,depth,sisterNum,item.id)}))}}(rootNode,realDepth,realSisNum,"0"),console.timeEnd("www"),console.log(rootNode),rootNode},Tree_stories={title:"Example/Tree",component:src_Tree_0},itemHeight=function itemHeight(){return 40},staticHeightitemStyle={boxSizing:"border-box"},getNodeIndent=function getNodeIndent(item,level){return 0===level?0:30*level},Basic=function Template(args){var _useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),expandedKeys=_useState2[0],setExpandedKeys=_useState2[1],treeController=(0,react.useRef)(),_useNextTick=function useNextTick(){var _useState=(0,react.useState)("0"),_useState2=(0,slicedToArray.Z)(_useState,2),updateId=_useState2[0],setUpdateId=_useState2[1],callbackMap=(0,react.useRef)({});return(0,react.useEffect)((function(){var fn=callbackMap.current[updateId];return"function"==typeof fn&&fn(),function(){callbackMap.current[updateId]=void 0}}),[updateId]),{updateId:updateId,setUpdate:function setUpdate(id,callback){setUpdateId(id),callbackMap.current&&(callbackMap.current[id]=callback)}}}(),updateId=_useNextTick.updateId,setUpdate=_useNextTick.setUpdate,getTreeNodeStyle=(0,react.useCallback)((function(){return staticHeightitemStyle}),[]),data=(0,react.useMemo)((function(){return[generateTreeData({depth:5,sisterNum:5})]}),[]),onNodeToggleExpand=(0,usePersistFn.Z)((function(node,expand){var newExpandedKeys=expandedKeys.slice();expand?Array.isArray(node)?newExpandedKeys=newExpandedKeys.concat(node):newExpandedKeys.push(node.id||node):newExpandedKeys=newExpandedKeys.filter((function(key){return key!==(node.id||node)})),setExpandedKeys(newExpandedKeys)})),getController=(0,usePersistFn.Z)((function(ref){treeController.current=ref}));(0,react.useCallback)((function(jumpKey){if(jumpKey)if("0"===jumpKey)onNodeToggleExpand(jumpKey,!0);else{var father=jumpKey.split("-"),fatherId=[];father.reduce((function(prev,next){return fatherId.push(prev),"".concat(prev,"-").concat(next)})),onNodeToggleExpand(fatherId,!0)}var newUpdateId=Number(updateId)+1;setUpdate("".concat(newUpdateId),(function(){var _treeController$curre;null===(_treeController$curre=treeController.current)||void 0===_treeController$curre||_treeController$curre.scrollTo({id:jumpKey})}))}),[]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h2",{children:"基础用法"}),(0,jsx_runtime.jsx)("div",{className:"wrapper",children:(0,jsx_runtime.jsx)(src_Tree_0,{data:data,expandedKeys:expandedKeys,onNodeToggleExpand:onNodeToggleExpand,itemHeight:itemHeight,containerHeight:500,className:"list-wrapper",getNodeIndent:getNodeIndent,getController:getController,shouldCollectHeight:!0,getNodeStyle:getTreeNodeStyle})})]})}.bind({}),CustomIcon=function Template2(args){var _useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.Z)(_useState3,2),expandedKeys=_useState4[0],setExpandedKeys=_useState4[1],treeController=(0,react.useRef)(),getTreeNodeStyle=(0,react.useCallback)((function(){return staticHeightitemStyle}),[]),data=(0,react.useMemo)((function(){return[generateTreeData({depth:5,sisterNum:5})]}),[]),onNodeToggleExpand=(0,usePersistFn.Z)((function(node,expand){var newExpandedKeys=expandedKeys.slice();expand?Array.isArray(node)?newExpandedKeys=newExpandedKeys.concat(node):newExpandedKeys.push(node.id||node):newExpandedKeys=newExpandedKeys.filter((function(key){return key!==(node.id||node)})),setExpandedKeys(newExpandedKeys)})),getController=(0,usePersistFn.Z)((function(ref){treeController.current=ref}));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h2",{children:"添加节点自定义 icon"}),(0,jsx_runtime.jsx)("div",{className:"wrapper",children:(0,jsx_runtime.jsx)(src_Tree_0,{data:data,expandedKeys:expandedKeys,onNodeToggleExpand:onNodeToggleExpand,itemHeight:itemHeight,containerHeight:500,className:"list-wrapper",getNodeIndent:getNodeIndent,getController:getController,shouldCollectHeight:!0,getNodeStyle:getTreeNodeStyle,renderIcon:function renderIcon(){return(0,jsx_runtime.jsx)(FolderOutlined.Z,{style:{marginRight:6},width:24,height:24})}})})]})}.bind({}),CustomArrowIcon=function Template3(args){var _useState5=(0,react.useState)([]),_useState6=(0,slicedToArray.Z)(_useState5,2),expandedKeys=_useState6[0],setExpandedKeys=_useState6[1],treeController=(0,react.useRef)(),getTreeNodeStyle=(0,react.useCallback)((function(){return staticHeightitemStyle}),[]),data=(0,react.useMemo)((function(){return[generateTreeData({depth:5,sisterNum:5})]}),[]),onNodeToggleExpand=(0,usePersistFn.Z)((function(node,expand){var newExpandedKeys=expandedKeys.slice();expand?Array.isArray(node)?newExpandedKeys=newExpandedKeys.concat(node):newExpandedKeys.push(node.id||node):newExpandedKeys=newExpandedKeys.filter((function(key){return key!==(node.id||node)})),setExpandedKeys(newExpandedKeys)})),getController=(0,usePersistFn.Z)((function(ref){treeController.current=ref}));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h2",{children:"自定义展开箭头 icon"}),(0,jsx_runtime.jsx)("div",{className:"wrapper",children:(0,jsx_runtime.jsx)(src_Tree_0,{data:data,expandedKeys:expandedKeys,onNodeToggleExpand:onNodeToggleExpand,itemHeight:itemHeight,containerHeight:500,className:"list-wrapper",getNodeIndent:getNodeIndent,getController:getController,shouldCollectHeight:!0,getNodeStyle:getTreeNodeStyle,renderArrow:function renderArrow(){return(0,jsx_runtime.jsx)(RightCircleOutlined.Z,{})}})})]})}.bind({});Basic.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => {\r\n    const [expandedKeys, setExpandedKeys] = useState<string[]>([]);\r\n    const treeController = useRef<ListController<ITreeData>>();\r\n\r\n    const { updateId, setUpdate } = useNextTick()\r\n\r\n    const getTreeNodeStyle = useCallback(() => {\r\n        return staticHeightitemStyle\r\n    }, [])\r\n\r\n    const data: ITreeData[] = useMemo(() => {\r\n        return [generateTreeData({\r\n            depth: 5,\r\n            sisterNum: 5,\r\n        })]\r\n    }, [])\r\n\r\n\r\n    const onNodeToggleExpand = usePersistFn((node, expand: boolean) => {\r\n        let newExpandedKeys = expandedKeys.slice();\r\n        if (expand) {\r\n            if (Array.isArray(node)) {\r\n                newExpandedKeys = newExpandedKeys.concat(node);\r\n            } else {\r\n                newExpandedKeys.push(node.id || node);\r\n            }\r\n        } else {\r\n            newExpandedKeys = newExpandedKeys.filter((key) => key !== (node.id || node));\r\n        }\r\n        setExpandedKeys(newExpandedKeys);\r\n    });\r\n\r\n    const getController = usePersistFn((ref) => {\r\n        treeController.current = ref;\r\n    });\r\n\r\n    const expandNode = useCallback((jumpKey: string) => {\r\n        if (jumpKey) {\r\n            if (jumpKey === '0') {\r\n                onNodeToggleExpand(jumpKey, true)\r\n            } else {\r\n                const father = jumpKey.split('-')\r\n                let fatherId: string[] = []\r\n                father.reduce((prev, next) => {\r\n                    fatherId.push(prev)\r\n                    return `${prev}-${next}`\r\n                })\r\n                onNodeToggleExpand(fatherId, true)\r\n            }\r\n        }\r\n        const newUpdateId = Number(updateId) + 1\r\n        setUpdate(`${newUpdateId}`, () => {\r\n            treeController.current?.scrollTo({ id: jumpKey })\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <h2>基础用法</h2>\r\n            <div className=\"wrapper\">\r\n                <Tree\r\n                    data={data}\r\n                    expandedKeys={expandedKeys}\r\n                    onNodeToggleExpand={onNodeToggleExpand}\r\n                    itemHeight={itemHeight}\r\n                    containerHeight={500}\r\n                    className={\"list-wrapper\"}\r\n                    getNodeIndent={getNodeIndent}\r\n                    getController={getController}\r\n                    shouldCollectHeight={true}\r\n                    getNodeStyle={getTreeNodeStyle}\r\n                />\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}"}},Basic.parameters),CustomIcon.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n    const [expandedKeys, setExpandedKeys] = useState<string[]>([]);\r\n    const treeController = useRef<ListController<ITreeData>>();\r\n\r\n    const getTreeNodeStyle = useCallback(() => {\r\n        return staticHeightitemStyle\r\n    }, [])\r\n\r\n    const data: ITreeData[] = useMemo(() => {\r\n        return [generateTreeData({\r\n            depth: 5,\r\n            sisterNum: 5,\r\n        })]\r\n    }, [])\r\n\r\n\r\n    const onNodeToggleExpand = usePersistFn((node, expand: boolean) => {\r\n        let newExpandedKeys = expandedKeys.slice();\r\n        if (expand) {\r\n            if (Array.isArray(node)) {\r\n                newExpandedKeys = newExpandedKeys.concat(node);\r\n            } else {\r\n                newExpandedKeys.push(node.id || node);\r\n            }\r\n        } else {\r\n            newExpandedKeys = newExpandedKeys.filter((key) => key !== (node.id || node));\r\n        }\r\n        setExpandedKeys(newExpandedKeys);\r\n    });\r\n\r\n    const getController = usePersistFn((ref) => {\r\n        treeController.current = ref;\r\n    });\r\n\r\n    const renderIcon = () => {\r\n        return <FolderOutlined style={{ marginRight: 6 }} width={24} height={24} />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2>添加节点自定义 icon</h2>\r\n            <div className="wrapper">\r\n                <Tree\r\n                    data={data}\r\n                    expandedKeys={expandedKeys}\r\n                    onNodeToggleExpand={onNodeToggleExpand}\r\n                    itemHeight={itemHeight}\r\n                    containerHeight={500}\r\n                    className={"list-wrapper"}\r\n                    getNodeIndent={getNodeIndent}\r\n                    getController={getController}\r\n                    shouldCollectHeight={true}\r\n                    getNodeStyle={getTreeNodeStyle}\r\n                    renderIcon={renderIcon}\r\n                />\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}'}},CustomIcon.parameters),CustomArrowIcon.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n    const [expandedKeys, setExpandedKeys] = useState<string[]>([]);\r\n    const treeController = useRef<ListController<ITreeData>>();\r\n\r\n    const getTreeNodeStyle = useCallback(() => {\r\n        return staticHeightitemStyle\r\n    }, [])\r\n\r\n    const data: ITreeData[] = useMemo(() => {\r\n        return [generateTreeData({\r\n            depth: 5,\r\n            sisterNum: 5,\r\n        })]\r\n    }, [])\r\n\r\n\r\n    const onNodeToggleExpand = usePersistFn((node, expand: boolean) => {\r\n        let newExpandedKeys = expandedKeys.slice();\r\n        if (expand) {\r\n            if (Array.isArray(node)) {\r\n                newExpandedKeys = newExpandedKeys.concat(node);\r\n            } else {\r\n                newExpandedKeys.push(node.id || node);\r\n            }\r\n        } else {\r\n            newExpandedKeys = newExpandedKeys.filter((key) => key !== (node.id || node));\r\n        }\r\n        setExpandedKeys(newExpandedKeys);\r\n    });\r\n\r\n    const getController = usePersistFn((ref) => {\r\n        treeController.current = ref;\r\n    });\r\n\r\n    const renderArrow = () => {\r\n        return <RightCircleOutlined />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2>自定义展开箭头 icon</h2>\r\n            <div className="wrapper">\r\n                <Tree\r\n                    data={data}\r\n                    expandedKeys={expandedKeys}\r\n                    onNodeToggleExpand={onNodeToggleExpand}\r\n                    itemHeight={itemHeight}\r\n                    containerHeight={500}\r\n                    className={"list-wrapper"}\r\n                    getNodeIndent={getNodeIndent}\r\n                    getController={getController}\r\n                    shouldCollectHeight={true}\r\n                    getNodeStyle={getTreeNodeStyle}\r\n                    renderArrow={renderArrow}\r\n                />\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}'}},CustomArrowIcon.parameters)},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.kg.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/List/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return src_List_0}});var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),usePersistFn=__webpack_require__("./node_modules/ahooks/es/usePersistFn/index.js");var deal_data=function useVisibleData(props){var scrollTop=props.scrollTop,data=props.data,containerHeight=props.containerHeight,itemHeight=props.itemHeight,_props$useVirtual=props.useVirtual,useVirtual=void 0===_props$useVirtual||_props$useVirtual,_props$buffer=props.buffer,buffer=void 0===_props$buffer?0:_props$buffer,_useMemo=(0,react.useMemo)((function(){var startIndex=-1,endIndex=-1;if(!useVirtual)return{startIndex:0,endIndex:data.length-1};if("number"==typeof itemHeight)startIndex=Math.floor(scrollTop/itemHeight),endIndex=Math.ceil((scrollTop+containerHeight)/itemHeight);else for(var sum=0,i=0;i<data.length;i++){var itemOffsetBottom=sum+itemHeight(data[i],i);if(itemOffsetBottom>scrollTop&&-1===startIndex&&(startIndex=i),itemOffsetBottom>scrollTop+containerHeight&&-1===endIndex){endIndex=i;break}sum=itemOffsetBottom}return{startIndex:startIndex=-1===startIndex?0:Math.max(0,startIndex-buffer),endIndex:endIndex=-1===endIndex?data.length-1:Math.min(data.length-1,endIndex+buffer)}}),[scrollTop,data,containerHeight,itemHeight,useVirtual,buffer]);return{startIndex:_useMemo.startIndex,endIndex:_useMemo.endIndex}},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),nil={},List_ListItem=(0,react.memo)((function ListItem(props){var renderItem=props.renderItem,listItem=props.listItem,heightMap=props.heightMap,isLastItem=props.isLastItem,update=props.update,getItemStyle=props.getItemStyle,onItemClick=props.onItemClick,style=(0,react.useMemo)((function(){return getItemStyle?getItemStyle(listItem):nil}),[listItem,getItemStyle]),listDidMMount=(0,react.useCallback)((function(element){element&&(heightMap.current[listItem.id]=element.offsetHeight),isLastItem&&element&&update((function(id){return id+1}))}),[]),onClick=(0,usePersistFn.Z)((function(){onItemClick&&onItemClick(listItem)}));return(0,jsx_runtime.jsx)("div",{className:"stand-list__item",style:style,ref:listDidMMount,onClick:onClick,children:renderItem(listItem)})}));try{ListItem.displayName="ListItem",ListItem.__docgenInfo={description:"",displayName:"ListItem",props:{renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(data: IListItemData) => ReactElement<any, string | JSXElementConstructor<any>>"}},listItem:{defaultValue:null,description:"",name:"listItem",required:!0,type:{name:"IListItemData"}},heightMap:{defaultValue:null,description:"",name:"heightMap",required:!0,type:{name:"MutableRefObject<{ [key: string]: number; }>"}},update:{defaultValue:null,description:"",name:"update",required:!0,type:{name:"Dispatch<SetStateAction<number>>"}},isLastItem:{defaultValue:null,description:"",name:"isLastItem",required:!0,type:{name:"boolean"}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: IListItemData) => void)"}},getItemStyle:{defaultValue:null,description:"",name:"getItemStyle",required:!1,type:{name:"((item: IListItemData) => CSSProperties)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/List/ListItem.tsx#ListItem"]={docgenInfo:ListItem.__docgenInfo,name:"ListItem",path:"src/List/ListItem.tsx#ListItem"})}catch(__react_docgen_typescript_loader_error){}var getItemOffsetBottom=function getItemOffsetBottom(i,data,itemHeight){return"number"==typeof itemHeight?(i+1)*itemHeight:data.slice(0,i+1).reduce((function(sum,curItem){return sum+itemHeight(curItem)}),0)},getItemOffsetTop=function getItemOffsetTop(i,data,itemHeight){return getItemOffsetBottom(i-1,data,itemHeight)},dealCritical=function dealCritical(scrollTop,maxScrollTop){var finalScrollTop=scrollTop;return finalScrollTop=Math.min(maxScrollTop,finalScrollTop),finalScrollTop=Math.max(0,finalScrollTop)};function List_List(props){var data=props.data,renderItem=props.renderItem,containerHeight=props.containerHeight,itemHeight=props.itemHeight,getItemStyle=props.getItemStyle,shouldCollectHeight=props.shouldCollectHeight,getController=props.getController,onItemClick=props.onItemClick,buffer=props.buffer,boxContain=(0,react.useRef)(null),_useState=(0,react.useState)(0),_useState2=(0,slicedToArray.Z)(_useState,2),scrollTop=_useState2[0],setScrollTop=_useState2[1],_useState3=(0,react.useState)(0),_useState4=(0,slicedToArray.Z)(_useState3,2),updateId=_useState4[0],setUpdateId=_useState4[1],heightMap=(0,react.useRef)({}),getItemHeight=(0,react.useCallback)((function(item){var actualItemheight;return shouldCollectHeight&&(actualItemheight=heightMap.current[item.id]),actualItemheight||(actualItemheight="function"==typeof itemHeight?itemHeight(item):itemHeight),actualItemheight}),[shouldCollectHeight,updateId]),_dealData=deal_data({data:data,scrollTop:scrollTop,itemHeight:getItemHeight,containerHeight:containerHeight,buffer:buffer}),startIndex=_dealData.startIndex,endIndex=_dealData.endIndex,fullListHeight=function getFullListHeight(data,itemHeight){return getItemOffsetBottom(data.length-1,data,itemHeight)}(data,getItemHeight),offsetHeight=(0,react.useMemo)((function(){return getItemOffsetTop(startIndex,data,getItemHeight)}),[startIndex,data,getItemHeight]),maxScrollTop=fullListHeight-containerHeight,visibleData=(0,react.useMemo)((function(){return data.slice(startIndex,endIndex+1)}),[data,startIndex,endIndex]),onScroll=(0,usePersistFn.Z)((function(){boxContain.current&&(Math.ceil(boxContain.current.scrollTop)!==scrollTop&&setScrollTop(boxContain.current.scrollTop))})),scrollTo=(0,usePersistFn.Z)((function(item){if("object"==typeof item){var targetIndex=data.findIndex((function(_ref){var id=_ref.id;return item.id===id}));if(targetIndex>-1&&boxContain.current){var targetScrollTop=getItemOffsetTop(targetIndex,data,getItemHeight);targetScrollTop=dealCritical(targetScrollTop,maxScrollTop),setScrollTop(targetScrollTop),boxContain.current.scrollTop=targetScrollTop}}else{var _targetScrollTop=Number(item);_targetScrollTop=dealCritical(_targetScrollTop,maxScrollTop),setScrollTop(_targetScrollTop),boxContain.current&&(boxContain.current.scrollTop=_targetScrollTop)}}));(0,react.useEffect)((function(){getController&&getController({scrollTo:scrollTo})}),[getController]);var fillerStyle=(0,react.useMemo)((function(){return{height:fullListHeight-offsetHeight,marginTop:offsetHeight,width:"100%"}}),[fullListHeight,offsetHeight]),containerStyle=(0,react.useMemo)((function(){return{height:containerHeight}}),[containerHeight]),className=props.className;return(0,jsx_runtime.jsx)("ul",{ref:boxContain,onScroll:onScroll,style:containerStyle,className:className,children:(0,jsx_runtime.jsx)("div",{className:"phantom",style:fillerStyle,children:visibleData.map((function(listItem,index){return(0,jsx_runtime.jsx)(List_ListItem,{renderItem:renderItem,listItem:listItem,heightMap:heightMap,getItemStyle:getItemStyle,update:setUpdateId,isLastItem:index===visibleData.length-1,onItemClick:onItemClick},listItem.id)}))})})}try{List_List.displayName="List",List_List.__docgenInfo={description:"",displayName:"List",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"IListItemData[]"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(data: IListItemData) => ReactElement<any, string | JSXElementConstructor<any>>"}},containerHeight:{defaultValue:null,description:"",name:"containerHeight",required:!0,type:{name:"number"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!0,type:{name:"number | ((item: IListItemData) => number)"}},shouldCollectHeight:{defaultValue:null,description:"",name:"shouldCollectHeight",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},buffer:{defaultValue:null,description:"",name:"buffer",required:!1,type:{name:"number"}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: IListItemData) => void)"}},getItemStyle:{defaultValue:null,description:"",name:"getItemStyle",required:!1,type:{name:"((item: IListItemData) => CSSProperties)"}},getController:{defaultValue:null,description:"",name:"getController",required:!1,type:{name:"((controller: ListController<IListItemData>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/List/List.tsx#List"]={docgenInfo:List_List.__docgenInfo,name:"List",path:"src/List/List.tsx#List"})}catch(__react_docgen_typescript_loader_error){}var src_List_0=List_List;try{List.displayName="List",List.__docgenInfo={description:"",displayName:"List",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"IListItemData[]"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(data: IListItemData) => ReactElement<any, string | JSXElementConstructor<any>>"}},containerHeight:{defaultValue:null,description:"",name:"containerHeight",required:!0,type:{name:"number"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!0,type:{name:"number | ((item: IListItemData) => number)"}},shouldCollectHeight:{defaultValue:null,description:"",name:"shouldCollectHeight",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},buffer:{defaultValue:null,description:"",name:"buffer",required:!1,type:{name:"number"}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: IListItemData) => void)"}},getItemStyle:{defaultValue:null,description:"",name:"getItemStyle",required:!1,type:{name:"((item: IListItemData) => CSSProperties)"}},getController:{defaultValue:null,description:"",name:"getController",required:!1,type:{name:"((controller: ListController<IListItemData>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/List/index.tsx#List"]={docgenInfo:List.__docgenInfo,name:"List",path:"src/List/index.tsx#List"})}catch(__react_docgen_typescript_loader_error){}},"./src/stories/txtgen.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var verbs,nouns,adjectives,adverbs,preposition;function sentence(){var rand1=Math.floor(10*Math.random()),rand2=Math.floor(10*Math.random()),rand3=Math.floor(10*Math.random()),rand4=Math.floor(10*Math.random()),rand5=Math.floor(10*Math.random()),rand6=Math.floor(10*Math.random());return"The "+adjectives[rand1]+" "+nouns[rand2]+" "+adverbs[rand3]+" "+verbs[rand4]+" because some "+nouns[rand1]+" "+adverbs[rand1]+" "+verbs[rand1]+" "+preposition[rand1]+" a "+adjectives[rand2]+" "+nouns[rand5]+" which, became a "+adjectives[rand3]+", "+adjectives[rand4]+" "+nouns[rand6]+"."}function paragraph(){for(var randomSentenceNums=Math.max(Math.floor(10*Math.random()),1),content="",i=0;i<randomSentenceNums;i++)content+=sentence();return content}__webpack_require__.d(__webpack_exports__,{A:function(){return paragraph},Z:function(){return sentence}}),nouns=["bird","clock","boy","plastic","duck","teacher","old lady","professor","hamster","dog"],verbs=["kicked","ran","flew","dodged","sliced","rolled","died","breathed","slept","killed"],adjectives=["beautiful","lazy","professional","lovely","dumb","rough","soft","hot","vibrating","slimy"],adverbs=["slowly","elegantly","precisely","quickly","sadly","humbly","proudly","shockingly","calmly","passionately"],preposition=["down","into","up","on","upon","below","above","through","across","towards"]},"./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/List.stories.tsx":"./src/stories/List.stories.tsx","./stories/Tree.stories.tsx":"./src/stories/Tree.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/Introduction.stories.mdx":"./src/stories/Introduction.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$"},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[603],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/dist/esm/preset/argsEnhancers.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.js")}));__webpack_require__.O()}]);